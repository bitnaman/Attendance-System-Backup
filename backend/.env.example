# ===========================================
# BACKEND ENVIRONMENT CONFIGURATION
# Copy this file to ../.env (project root) and update values
# ===========================================

# ===========================================
# DATABASE CONFIGURATION
# ===========================================
# Database Type: "sqlite" (default, recommended) or "postgresql"
DATABASE_TYPE=sqlite

# SQLite Configuration (used when DATABASE_TYPE=sqlite)
DB_FILE=attendance.db

# PostgreSQL Configuration (used when DATABASE_TYPE=postgresql)
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=facial_attendance
# POSTGRES_USER=your_user
# POSTGRES_PASSWORD=your_password

# ===========================================
# STORAGE CONFIGURATION
# ===========================================
# LOCAL STORAGE (Default - no cloud setup needed)
PHOTO_STORAGE_TYPE=local
BACKEND_BASE_URL=http://localhost:8000

# AWS S3 CLOUD STORAGE (Optional - for production)
# PHOTO_STORAGE_TYPE=s3
# AWS_ACCESS_KEY_ID=your_aws_access_key_here
# AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=your-bucket-name-here

# ===========================================
# REDIS CONFIGURATION (OPTIONAL)
# ===========================================
# Redis is optional - the system falls back to in-memory caching if not available
# Uncomment below to enable Redis caching for better performance
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# ===========================================
# FACE RECOGNITION CONFIGURATION
# ===========================================
# Recognition Model: Facenet512 (default), ArcFace, GhostFaceNet, Facenet, SFace
FACE_RECOGNITION_MODEL=Facenet512

# Detector Backend: mtcnn (default), retinaface, mediapipe, opencv
FACE_DETECTOR_BACKEND=mtcnn

# Distance Threshold (lower = stricter matching)
# Recommended: Facenet512=20.0, ArcFace=18.0, GhostFaceNet=19.0
FACE_DISTANCE_THRESHOLD=20.0

# Adaptive threshold for group photos
ADAPTIVE_THRESHOLD_MODE=disabled

# ===========================================
# AUTHENTICATION CONFIGURATION
# ===========================================
# JWT Secret Key (CRITICAL: Change this in production!)
# Generate a secure key: python -c "import secrets; print(secrets.token_hex(32))"
AUTH_SECRET_KEY=change-this-to-a-secure-random-string-in-production

# Token expiration time in minutes (default: 8 hours)
ACCESS_TOKEN_EXPIRE_MINUTES=480

# ===========================================
# LOGGING CONFIGURATION
# ===========================================
LOG_LEVEL=INFO
LOG_THROTTLE_MS=1000

# ===========================================
# SERVER CONFIGURATION
# ===========================================
HOST=0.0.0.0
PORT=8000
MAX_FILE_SIZE=10485760
CORS_ORIGINS=*
