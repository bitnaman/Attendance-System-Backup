"""
Configuration for Advanced Accuracy Improvements
Add these settings to your .env file to enable advanced features
"""

# ===== ACCURACY IMPROVEMENT SETTINGS =====

# Enable ensemble recognition (multiple models voting)
ENABLE_ENSEMBLE_RECOGNITION=false  # Set to 'true' to enable (uses more CPU/RAM)

# Ensemble model configuration (weights must sum to 1.0)
ENSEMBLE_MODELS=ArcFace:0.45,Facenet512:0.35,SFace:0.20

# Advanced preprocessing features
ENABLE_FACE_ALIGNMENT=true
ENABLE_ILLUMINATION_NORMALIZATION=true
ENABLE_SHARPNESS_ENHANCEMENT=true
ENABLE_NOISE_REDUCTION=true
ENABLE_SUPER_RESOLUTION=true

# Quality filtering
ENABLE_QUALITY_FILTERING=true
MIN_FACE_QUALITY_SCORE=0.4  # 0.0-1.0, higher is stricter
MIN_SHARPNESS_THRESHOLD=50.0
REJECT_BLURRY_FACES=true
REJECT_OCCLUDED_FACES=true

# Data augmentation during registration
ENABLE_DATA_AUGMENTATION=true
AUGMENTATION_VARIATIONS=5  # Number of synthetic variations per photo

# Confidence thresholds
MIN_RECOGNITION_CONFIDENCE=0.50  # Minimum to accept a match
HIGH_CONFIDENCE_THRESHOLD=0.80   # Threshold for "high confidence"

# Adaptive threshold adjustment
ENABLE_DYNAMIC_THRESHOLD=true  # Adjust based on photo quality
QUALITY_THRESHOLD_ADJUSTMENT=true  # Relax threshold for high-quality faces

# Advanced detection
ENABLE_MULTI_DETECTOR_FALLBACK=true  # Try multiple detectors if first fails
DETECTOR_FALLBACK_SEQUENCE=mtcnn,retinaface,mediapipe,opencv

# Performance settings
ENSEMBLE_PARALLEL_PROCESSING=false  # Process models in parallel (experimental)
PREPROCESSING_CACHE_ENABLED=true    # Cache preprocessed images

# Logging and monitoring
LOG_QUALITY_METRICS=true           # Log quality scores for analysis
LOG_ENSEMBLE_DECISIONS=true        # Log individual model votes
SAVE_PROBLEMATIC_FACES=false       # Save faces that failed recognition
